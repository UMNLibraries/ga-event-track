var GaEventTrack=function(){var _events=["forms","links"];var FormSubmit={};var LinkClick={};return{_events:_events,FormSubmit:FormSubmit,LinkClick:LinkClick}}(GaEventTrack);(function($,GaEventTrack){"use strict";GaEventTrack.FormSubmit=function(element){var $form=$(element);var inputName=function(input){return input.attr("name")||input.attr("type")};var inputValue=function(input){if(input.attr("type")==="radio"){return $("input[name="+inputName(input)+"]:radio:checked").val()}return input.val()};var formName=function(){var $name=$form.attr("name")||$($form.parents("[id]")[0]).attr("id");return{form:$name}};var gatherInputs=function(){var $formData={};$(":input",$form).each(function(){var $input=$(this);$formData[inputName($input)]=inputValue($input)});return $formData};return{name:formName(),inputs:gatherInputs()}};$.ga_event_track_forms=function(event){if($.inArray(event,GaEventTrack._events)!=-1&&event==="forms"){return $("form.ga-track").each(function(idx,element){var submitEvent=function(name,inputs){try{if(JSON&&JSON.stringify){var $ga_label=JSON.stringify($.extend(name,inputs));_gaq.push(["_trackEvent","Forms","Submit",$ga_label]);return true}}catch(error){return false}};$(element).submit(function(event){event.preventDefault();event.stopPropagation();var $this=$(this);$this.unbind("submit");var $formData=new GaEventTrack.FormSubmit($this);submitEvent($formData.name,$formData.inputs);setTimeout(function(){$this.submit()},500)})})}}})(jQuery,GaEventTrack);(function($,GaEventTrack){"use strict";GaEventTrack.LinkClick=function(element){var $link=$(element);var webpage=function(){return $(location).attr("pathname")};var media=function(){return $("body").data("media")};var linkHref=function(){return $($link).attr("href")};var linkText=function(){return $.trim($($link).text())};var parents=function(){return $.map($($link).parents(),function(v){return $(v).attr("id")}).reverse().join("|")};var date=function(){return $.now()};return{webpage:webpage(),media:media(),href:linkHref(),text:linkText(),parents:parents(),date:date()}};$.ga_event_track_links=function(event){if($.inArray(event,GaEventTrack._events)!=-1&&event==="links"){console.log("Track Links");return $("a").each(function(idx,element){var submitEvent=function(linkData){try{if(JSON&&JSON.stringify){var $ga_label=JSON.stringify(linkData);_gaq.push(["_trackEvent","Links","Click",$ga_label]);return true}}catch(error){return false}};$(element).click(function(event){event.preventDefault();event.stopPropagation();var $this=$(this);$this.unbind("click");var $linkData=new GaEventTrack.LinkClick($this);submitEvent($linkData);setTimeout(function(){window.location=$this.attr("href")},500)})})}}})(jQuery,GaEventTrack);
//# sourceMappingURL=jquery.ga-event-track.min.js.map