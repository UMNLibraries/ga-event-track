var GaEventTrack=function(){var _events=["forms","links"];var FormSubmit={};var LinkClick={};return{_events:_events,FormSubmit:FormSubmit,LinkClick:LinkClick}}(GaEventTrack);(function($,GaEventTrack){"use strict";GaEventTrack.FormSubmit=function(element){var $form=$(element);var inputName=function(input){return input.attr("name")||input.attr("type")};var inputValue=function(input){if(input.attr("type")==="radio"){return $("input[name="+inputName(input)+"]:radio:checked").val()}return input.val()};var formName=function(){var $name=$form.attr("name")||$($form.parents("[id]")[0]).attr("id");return{form:$name}};var gatherInputs=function(){var $formData={};$(":input",$form).each(function(){var $input=$(this);$formData[inputName($input)]=inputValue($input)});return $formData};return{name:formName(),inputs:gatherInputs()}};$.ga_event_track=function(event){if($.inArray(event,GaEventTrack._events)&&event==="forms"){return $("form.ga-track").each(function(idx,element){var submitEvent=function(name,inputs){try{if(JSON&&JSON.stringify){var $ga_label=JSON.stringify($.extend(name,inputs));_gaq.push(["_trackEvent","Forms","Submit",$ga_label]);return true}}catch(error){return false}};$(element).submit(function(event){event.preventDefault();var $this=$(this);var $formData=new GaEventTrack.FormSubmit($this);submitEvent($formData.name,$formData.inputs);$this.unbind("submit");setTimeout(function(){$this.submit()},500)})})}}})(jQuery,GaEventTrack);(function($,GaEventTrack){"use strict";GaEventTrack.LinkClick=function(element){var $link=$(element);var webpage=function(){return{webpage:$(location).attr("pathname")}};var media=function(){return{media:$("body").data("media")}};var linkHref=function(){return{href:$($link).attr("href")}};var linkText=function(){return{text:$.trim($($link).text())}};var linkParents=function(){return{parents:$.map($($link).parents(),function(v,i){return $(v).attr("id")}).reverse().join("|")}};var eventDate=function(){return{date:$.now()}};return{webpage:webpage(),media:media(),href:linkHref(),text:linkText(),parents:linkParents(),date:eventDate()}};$.ga_event_track=function(event){if($.inArray(event,GaEventTrack._events)&&event==="links"){return $("a").each(function(idx,element){var submitEvent=function(webpage,media,href,text,parents,date){try{if(JSON&&JSON.stringify){var $ga_label=JSON.stringify($.extend(webpage,media,href,text,parents,date));_gaq.push(["_trackEvent","Links","Click",$ga_label]);return true}}catch(error){return false}};$(element).click(function(event){var $this=$(this);var $linkData=new GaEventTrack.LinkClick($this);submitEvent($linkData.webpage,$linkData.media,$linkData.href,$linkData.text,$linkData.parents,$linkData.date)})})}}})(jQuery,GaEventTrack);
//# sourceMappingURL=jquery.ga-event-track.min.js.map