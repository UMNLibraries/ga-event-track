(function($){"use strict";window.GaTrackFormData=function(element){var $form=$(element);var inputName=function(input){return input.attr("name")||input.attr("type")};var inputValue=function(input){if(input.attr("type")==="radio"){return $("input[name="+inputName(input)+"]:radio:checked").val()}return input.val()};var formName=function(){var $name=$form.attr("name")||$($form.parents("[id]")[0]).attr("id");return{form:$name}};var gatherInputs=function(){var $formData={};$(":input",$form).each(function(){var $input=$(this);$formData[inputName($input)]=inputValue($input)});return $formData};return{name:formName(),inputs:gatherInputs()}};$.fn.ga_track_form_submit=function(){return $("form.ga-track").each(function(idx,element){var submitEvent=function(name,inputs){try{if(JSON&&JSON.stringify){var $ga_label=JSON.stringify($.extend(name,inputs));_gaq.push(["_trackEvent","Forms","Submit",$ga_label]);return true}}catch(error){return false}};$(element).submit(function(event){event.preventDefault();var $this=$(this);var $formData=new GaTrackFormData($this);submitEvent($formData.name,$formData.inputs);$this.unbind("submit");setTimeout(function(){$this.submit()},500)})})}})(jQuery);